syntax = "proto3";

import "google/protobuf/descriptor.proto";
import "google/api/http.proto";
import "google/api/field_behavior.proto";


package entity.feature.method;


// TODO: вынести неиспользуемые в prerelease
// TODO: Проверить, что поля и опции нельзя выставить там где не надо. разнести по пакетам
extend google.protobuf.MessageOptions {
  string name_template = 2998;
  string request_name = 2999;
  string response_name = 3000;
  string leading_comment = 3001;
  // TODO: сделать подстановки в additional_bindings
  google.api.HttpRule http_rule = 3002;
  // TODO: вычислить key_field_behavior для ключевых полей
  // Строгость (Cardinality) ключевых полей, требуемая для метода
  google.api.FieldBehavior key_field_behavior = 3003;
  bool server_streaming = 3004;
  bool client_streaming = 3005;
}

message CustomComments {
  // Переопределяет options.method_component_template_set.leading_comment
  string leading_comment = 1;
  // Дополнительный комментарий к методу
  string additional_leading_comment = 2;
  // Комментарий к запросу метода
  // Переопределяет комментарий по умолчанию
  string request_leading_comment = 3;
  // Комментарий к ответу метода
  // Переопределяет комментарий по умолчанию
  string response_leading_comment = 4;
}


message EnumValue {
  string name = 1;
  string title = 2;
}
