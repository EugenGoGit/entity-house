syntax = "proto3";

import "google/protobuf/descriptor.proto";
import "entity-tmpl/entity-feature-api-service.proto";
import "entity-tmpl/entity-feature-options.proto";


package entity.feature;

// Protobuf service generation
message ApiSpecification {
  oneof service {
    entity.feature.api.service.ServersideEntityCRUD serverside_entity_crud = 1;
    entity.feature.api.service.ServersideSingletonCRUD serverside_singleton_crud = 2;
  }
}

// AML (Azimutt Markup Language)
// https://azimutt.app/docs/aml
// https://azimutt.app/converters/postgres/to/amlv1
// TODO: генерация сущности по AMLv1
message AMLSpecification {
}

extend google.protobuf.MessageOptions {
  // .
  ApiSpecification api_specification = 2002;
  // .
  AMLSpecification aml_specification = 2003;
}

extend google.protobuf.FieldOptions {
  // .
  options.UniqueFieldGroup unique_field_group = 2001;
}

