Проект инструментальной обвязки сущностей, определенных в формате `.proto` файлов

# Entity Feature API Generator

Генератор API-спецификаций Protocol Buffers (`.proto` файлов) на основе кастомных опций, определенных непосредственно в сущностях (protobuf message).
Это значительно упрощает и автоматизирует процесс создания boilerplate кода для CRUD и других стандартных операций.
Позволяет определить концепцию АПИ в шаблонах и снизить вероятность нарушения концепции. В то же время не ограничивает произвольные изменения АПИ.

API конкретной сущности описывается с помощью опций шаблона, опций сущностей в protobuf message самих сущности (пример [protos/keyapis_vc_camera_group_v1.proto](protos/keyapis_vc_camera_group_v1.proto))
Необходимые шаблоны сервисов, методов, запросов и ответов определяются в виде protobuf спецификаций (примеры в [api_spec_tmpl/impls](api_spec_tmpl/impls)).
Шаблоны описываются с помощью заданных атрибутов и опций, описанных в [api_spec_tmpl/dsl](api_spec_tmpl/dsl).


## Особенности

*   **Декларативное определение API**: Описывайте желаемый API внутри вашего `.proto` файла с помощью кастомных опций.
*   **Шаблоны**: Создавайте переиспользуемые шаблоны, содержащие унифицированную концепцию АПИ для сервисов (например, стандартный CRUD) и сообщений (DTO).
*   **Гибкая настройка**: Переопределяйте атрибуты из шаблонов непосредственно в описании сущности.
*   **Автоматическая генерация**:
*   Сообщений запросов и ответов (DTO) на основе шаблонов.
*   Сервисов и методов.
*   Ключевых полей: Автоматически подставляйте ключевые поля вашей сущности в шаблоны.
*   Комментариев: Поддержка шаблонов в комментариях (например, `{EntityTypeName}`).
*   HTTP аннотаций: (Опционально) Генерация `google.api.http` опций для gRPC-Gateway/Connect.

## Как это работает

Подробнее смотрите в примерах 
*   [cmd/test_proto](cmd/test_proto) определение сущностей с указанием нужной спецификации АПИ
*   [cmd/test_assert](cmd/test_assert) результаты генерации
*   [api_spec_tmpl/impls](api_spec_tmpl/impls) реализации концепции АПИ в шаблонах
*   [api_spec_tmpl/dsl](api_spec_tmpl/dsl) атрибуты для построения шаблонов АПИ
*   [entity_feature](entity_feature) структуры для описания сущностей

## Использование

### Тест
    go test . -v
### Запуск в контейнере
    docker compose up --build app
### Локальный запуск
    go mod download
    go build -v -o ./ ./...
    cmd.exe /C "set PROTO_PATH=protos& set PROTO_OUT_PATH=protos_gen_out& set PROTO_IMPORT_PATH=.;proto_deps& entity-house"

Будут взяты описания сущностей из [protos](protos) и сгенерированы спецификации в [protos_gen_out](protos_gen_out)